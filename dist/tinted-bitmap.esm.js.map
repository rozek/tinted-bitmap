{"version":3,"file":"tinted-bitmap.esm.js","sources":["../src/tinted-bitmap.ts"],"sourcesContent":["//----------------------------------------------------------------------------//\n//        tinted-bitmap - creates a tinted copy of a given HTML image         //\n//----------------------------------------------------------------------------//\n\n  import {\n    throwError,\n    expectInstanceOf,expectColor\n  } from 'javascript-interface-library'\n\n/**** tintedBitmapAsURL ****/\n\n  export function tintedBitmapAsURL (\n    Bitmap:HTMLImageElement, TintColor:string\n  ):string {\n    expectInstanceOf('bitmap',Bitmap, HTMLImageElement,'HTML image element')\n    expectColor ('tint color',TintColor)\n\n    if (! Bitmap.complete) throwError(\n      'InvalidArgument: the given bitmap has not yet been completely loaded'\n    )\n\n    let Canvas = document.createElement('canvas')\n      Canvas.width  = Bitmap.width\n      Canvas.height = Bitmap.height\n    let Context = Canvas.getContext('2d') as CanvasRenderingContext2D\n      Context.drawImage(Bitmap,0,0)\n\n      Context.globalCompositeOperation = 'source-in'\n\n      Context.fillStyle = TintColor\n      Context.fillRect(0,0, Bitmap.width,Bitmap.height)\n    return Canvas.toDataURL('image/png')\n  }\n\n/**** tintedBitmap ****/\n\n  export function tintedBitmap (\n    Bitmap:HTMLImageElement, TintColor:string\n  ):HTMLImageElement {\n    let Result = document.createElement('img')\n      Result.src = tintedBitmapAsURL(Bitmap,TintColor)\n    return Result\n  }\n\n"],"names":[],"mappings":";;AAAA;AASA;SAEkB,iBAAiB,CAC/B,MAAuB,EAAE,SAAgB;IAEzC,gBAAgB,CAAC,QAAQ,EAAC,MAAM,EAAE,gBAAgB,EAAC,oBAAoB,CAAC,CAAA;IACxE,WAAW,CAAE,YAAY,EAAC,SAAS,CAAC,CAAA;IAEpC,IAAI,CAAE,MAAM,CAAC,QAAQ;QAAE,UAAU,CAC/B,sEAAsE,CACvE,CAAA;IAED,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAA;IAC3C,MAAM,CAAC,KAAK,GAAI,MAAM,CAAC,KAAK,CAAA;IAC5B,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAA;IAC/B,IAAI,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAA6B,CAAA;IAC/D,OAAO,CAAC,SAAS,CAAC,MAAM,EAAC,CAAC,EAAC,CAAC,CAAC,CAAA;IAE7B,OAAO,CAAC,wBAAwB,GAAG,WAAW,CAAA;IAE9C,OAAO,CAAC,SAAS,GAAG,SAAS,CAAA;IAC7B,OAAO,CAAC,QAAQ,CAAC,CAAC,EAAC,CAAC,EAAE,MAAM,CAAC,KAAK,EAAC,MAAM,CAAC,MAAM,CAAC,CAAA;IACnD,OAAO,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAA;AACtC,CAAC;AAEH;SAEkB,YAAY,CAC1B,MAAuB,EAAE,SAAgB;IAEzC,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;IACxC,MAAM,CAAC,GAAG,GAAG,iBAAiB,CAAC,MAAM,EAAC,SAAS,CAAC,CAAA;IAClD,OAAO,MAAM,CAAA;AACf;;;;"}