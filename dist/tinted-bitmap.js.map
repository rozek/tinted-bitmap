{"version":3,"file":"tinted-bitmap.js","sources":["../src/tinted-bitmap.ts"],"sourcesContent":["//----------------------------------------------------------------------------//\n//        tinted-bitmap - creates a tinted copy of a given HTML image         //\n//----------------------------------------------------------------------------//\n\n  import {\n    throwError,\n    expectInstanceOf,expectColor\n  } from 'javascript-interface-library'\n\n/**** tintedBitmapAsURL ****/\n\n  export function tintedBitmapAsURL (\n    Bitmap:HTMLImageElement, TintColor:string\n  ):string {\n    expectInstanceOf('bitmap',Bitmap, HTMLImageElement,'HTML image element')\n    expectColor ('tint color',TintColor)\n\n    if (! Bitmap.complete) throwError(\n      'InvalidArgument: the given bitmap has not yet been completely loaded'\n    )\n\n    let Canvas = document.createElement('canvas')\n      Canvas.width  = Bitmap.width\n      Canvas.height = Bitmap.height\n    let Context = Canvas.getContext('2d') as CanvasRenderingContext2D\n      Context.drawImage(Bitmap,0,0)\n\n      Context.globalCompositeOperation = 'source-in'\n\n      Context.fillStyle = TintColor\n      Context.fillRect(0,0, Bitmap.width,Bitmap.height)\n    return Canvas.toDataURL('image/png')\n  }\n\n/**** tintedBitmap ****/\n\n  export function tintedBitmap (\n    Bitmap:HTMLImageElement, TintColor:string\n  ):HTMLImageElement {\n    let Result = document.createElement('img')\n      Result.src = tintedBitmapAsURL(Bitmap,TintColor)\n    return Result\n  }\n\n"],"names":["expectInstanceOf","expectColor","throwError"],"mappings":";;;;;;;;;;;IAAA;IASA;aAEkB,iBAAiB,CAC/B,MAAuB,EAAE,SAAgB;QAEzCA,2CAAgB,CAAC,QAAQ,EAAC,MAAM,EAAE,gBAAgB,EAAC,oBAAoB,CAAC,CAAA;QACxEC,sCAAW,CAAE,YAAY,EAAC,SAAS,CAAC,CAAA;QAEpC,IAAI,CAAE,MAAM,CAAC,QAAQ;YAAEC,qCAAU,CAC/B,sEAAsE,CACvE,CAAA;QAED,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAA;QAC3C,MAAM,CAAC,KAAK,GAAI,MAAM,CAAC,KAAK,CAAA;QAC5B,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAA;QAC/B,IAAI,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAA6B,CAAA;QAC/D,OAAO,CAAC,SAAS,CAAC,MAAM,EAAC,CAAC,EAAC,CAAC,CAAC,CAAA;QAE7B,OAAO,CAAC,wBAAwB,GAAG,WAAW,CAAA;QAE9C,OAAO,CAAC,SAAS,GAAG,SAAS,CAAA;QAC7B,OAAO,CAAC,QAAQ,CAAC,CAAC,EAAC,CAAC,EAAE,MAAM,CAAC,KAAK,EAAC,MAAM,CAAC,MAAM,CAAC,CAAA;QACnD,OAAO,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAA;IACtC,CAAC;IAEH;aAEkB,YAAY,CAC1B,MAAuB,EAAE,SAAgB;QAEzC,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;QACxC,MAAM,CAAC,GAAG,GAAG,iBAAiB,CAAC,MAAM,EAAC,SAAS,CAAC,CAAA;QAClD,OAAO,MAAM,CAAA;IACf;;;;;;;;;;;"}