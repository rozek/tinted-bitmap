{"version":3,"file":"tinted-bitmap.js","sources":["../src/tinted-bitmap.ts"],"sourcesContent":["//----------------------------------------------------------------------------//\n//        tinted-bitmap - creates a tinted copy of a given HTML image         //\n//----------------------------------------------------------------------------//\n\n  import {\n    throwError,\n    expectInstanceOf,expectColor\n  } from 'javascript-interface-library'\n\n  function tintedBitmap (\n    Bitmap:HTMLImageElement, TintColor:string\n  ):HTMLImageElement {\n    expectInstanceOf('bitmap',Bitmap, HTMLImageElement,'HTML image element')\n    expectColor ('tint color',TintColor)\n\n    if (! Bitmap.complete) throwError(\n      'InvalidArgument: the given bitmap has not yet been completely loaded'\n    )\n\n    let Canvas = document.createElement('canvas')\n      Canvas.width  = Bitmap.width\n      Canvas.height = Bitmap.height\n    let Context = Canvas.getContext('2d') as CanvasRenderingContext2D\n      Context.drawImage(Bitmap,0,0)\n\n      Context.globalCompositeOperation = 'destination-atop'\n\n      Context.fillStyle = TintColor\n      Context.fillRect(0,0, Bitmap.width,Bitmap.height)\n    let Result = document.createElement('img')\n      Result.src = Canvas.toDataURL('image/png')\n    return Result\n  }\n\n  export default tintedBitmap\n\n"],"names":["Bitmap","TintColor","expectInstanceOf","HTMLImageElement","expectColor","complete","throwError","Canvas","document","createElement","width","height","Context","getContext","drawImage","globalCompositeOperation","fillStyle","fillRect","Result","src","toDataURL"],"mappings":"4ZASE,SACEA,EAAyBC,GAEzBC,mBAAiB,SAASF,EAAQG,iBAAiB,sBACnDC,cAAa,aAAaH,GAEpBD,EAAOK,UAAUC,aACrB,wEAGF,IAAIC,EAASC,SAASC,cAAc,UAClCF,EAAOG,MAASV,EAAOU,MACvBH,EAAOI,OAASX,EAAOW,OACzB,IAAIC,EAAUL,EAAOM,WAAW,MAC9BD,EAAQE,UAAUd,EAAO,EAAE,GAE3BY,EAAQG,yBAA2B,mBAEnCH,EAAQI,UAAYf,EACpBW,EAAQK,SAAS,EAAE,EAAGjB,EAAOU,MAAMV,EAAOW,QAC5C,IAAIO,EAASV,SAASC,cAAc,OAEpC,OADES,EAAOC,IAAMZ,EAAOa,UAAU,aACzBF"}